<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hogenakkal Waterfalls Itinerary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap&libraries=marker&loading=async" async defer></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
            color: #333;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .header-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #667eea;
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.07);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .icon-style {
            width: 24px;
            height: 24px;
            stroke-width: 2;
        }

        /* Dark Mode Styles */
        body.dark {
            background-color: #111827; /* Tailwind gray-900 */
            color: #d1d5db; /* Tailwind gray-300 */
        }
        .dark .card {
            background: #1f2937; /* Tailwind gray-800 */
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        .dark .bg-gray-100, .dark .bg-gray-50 {
            background-color: #374151; /* Tailwind gray-700 */
        }
        .dark .tab-button {
            color: #d1d5db;
        }
        .dark .tab-button.active {
            background-color: #4f46e5; /* Tailwind indigo-600 */
            color: #e0e7ff; /* Tailwind indigo-100 */
        }
        .dark h2, .dark h3, .dark h4 {
            color: #f9fafb; /* Tailwind gray-50 */
        }
        .dark .text-indigo-600 {
            color: #818cf8; /* Tailwind indigo-400 */
        }
        .dark .text-indigo-600:hover {
            color: #a5b4fc; /* Tailwind indigo-300 */
        }
        .dark .text-gray-600 {
            color: #9ca3af; /* Tailwind gray-400 */
        }
        .dark .text-gray-700 {
            color: #d1d5db; /* Tailwind gray-300 */
        }
        .dark .text-purple-500 {
            color: #a78bfa; /* Tailwind violet-400 */
        }
        .dark .bg-blue-100 {
            background-color: #1e40af; /* Tailwind blue-800 */
        }
        .dark .text-blue-600, .dark .icon-style {
            color: #93c5fd; /* Tailwind blue-300 */
        }
        .dark footer {
            color: #9ca3af; /* Tailwind gray-400 */
        }
        .dark .card:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        /* Vertical Timeline */
        .timeline {
            position: relative;
            margin: 0 auto;
            padding: 2em 0;
            max-width: 800px;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 18px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
        }
        .dark .timeline::before {
            background: #4a5568;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 2em;
            padding-left: 50px;
        }
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        .timeline-icon {
            position: absolute;
            left: 0;
            top: 0;
            width: 38px;
            height: 38px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #f0f2f5;
        }
        .dark .timeline-icon {
            border-color: #111827;
        }
        .timeline-content {
            position: relative;
            top: -5px;
        }
    </style>
</head>
<body class="antialiased"><header class="header-bg text-white text-center py-12 sm:py-20">
    <div class="container mx-auto px-4 relative">
        <h1 class="text-4xl sm:text-5xl font-bold tracking-tight">Hogenakkal Waterfalls Getaway</h1>
        <p class="mt-4 text-lg sm:text-xl opacity-90">A 2-Day Weekend Trip</p>
        <button id="theme-toggle" class="absolute top-4 right-4 p-2 rounded-full bg-gray-800 text-white">
            <i id="theme-toggle-icon" data-feather="sun"></i>
        </button>
    </div>
</header>

<main class="container mx-auto px-4 py-8 sm:py-12">
    
    <!-- Itinerary Section -->
    <section id="itinerary" class="mb-12">
        <div class="card p-6 sm:p-8">
            <h2 class="text-2xl sm:text-3xl font-bold text-center mb-6">Daily Itinerary</h2>
            <div id="tabs-container" class="flex justify-center space-x-2 sm:space-x-4 bg-gray-100 p-2 rounded-full mb-6">
                <!-- Tabs will be inserted here -->
            </div>
            <div id="tab-content">
                <!-- Content for tabs will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <section id="map-section" class="mb-12">
        <div class="card p-6 sm:p-8">
            <details class="group">
                <summary class="flex items-center justify-between font-bold text-2xl sm:text-3xl cursor-pointer list-none">
                    <span class="text-center flex-grow">Locations Map</span>
                    <i data-feather="chevron-down" class="group-open:rotate-180 transition-transform"></i>
                </summary>
                <div id="map" style="height: 400px;" class="rounded-lg mt-6"></div>
            </details>
        </div>
    </section>

</main>

<footer class="text-center py-8 text-gray-500">
    <p>Itinerary generated by Gemini</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        feather.replace();

        const tabsContainer = document.getElementById('tabs-container');
        const tabContentContainer = document.getElementById('tab-content');

        fetch('hogenakkal_itinerary.json?v=' + new Date().getTime())
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.statusText}`);
                }
                return response.json();
            })
            .then(itineraryData => {
                itineraryData.forEach((day, index) => {
                    // Create Tab Button
                    const tabButton = document.createElement('button');
                    tabButton.className = `tab-button font-semibold py-2 px-4 rounded-full text-sm sm:text-base ${index === 0 ? 'active' : ''}`;
                    tabButton.textContent = `Day ${day.day}`;
                    tabButton.dataset.day = day.day;
                    tabsContainer.appendChild(tabButton);

                    // Create Tab Content
                    const contentDiv = document.createElement('div');
                    contentDiv.className = `tab-content-day-${day.day} ${index !== 0 ? 'hidden' : ''}`;
                    
                    const timelineDiv = document.createElement('div');
                    timelineDiv.className = 'timeline';

                    day.items.forEach(item => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'timeline-item';

                        const iconDiv = document.createElement('div');
                        iconDiv.className = 'timeline-icon';
                        iconDiv.innerHTML = `<i data-feather="${item.icon}" class="icon-style"></i>`;
                        
                        const contentDivItem = document.createElement('div');
                        contentDivItem.className = 'timeline-content';
                        contentDivItem.innerHTML = item.text;

                        itemDiv.appendChild(iconDiv);
                        itemDiv.appendChild(contentDivItem);
                        timelineDiv.appendChild(itemDiv);
                    });

                    contentDiv.appendChild(timelineDiv);
                    tabContentContainer.appendChild(contentDiv);
                });

                feather.replace(); // Re-run feather icons

                // Tab switching functionality
                tabsContainer.addEventListener('click', e => {
                    if(e.target.classList.contains('tab-button')) {
                        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        const day = e.target.dataset.day;
                        document.querySelectorAll('[class^="tab-content-day-"]').forEach(content => content.classList.add('hidden'));
                        document.querySelector(`.tab-content-day-${day}`).classList.remove('hidden');
                    }
                });
            })
            .catch(error => {
                console.error('Error loading itinerary:', error);
                tabContentContainer.innerHTML = `<p class="text-center text-red-500">Failed to load itinerary data. Please check if hogenakkal_itinerary.json is valid.</p>`;
            });

    });

    const themeToggle = document.getElementById('theme-toggle');
    const themeToggleIcon = document.getElementById('theme-toggle-icon');
    const body = document.body;

    const applyTheme = (theme) => {
        if (theme === 'dark') {
            body.classList.add('dark');
            themeToggleIcon.setAttribute('data-feather', 'moon');
        } else {
            body.classList.remove('dark');
            themeToggleIcon.setAttribute('data-feather', 'sun');
        }
        feather.replace();
    };

    themeToggle.addEventListener('click', () => {
        const newTheme = body.classList.contains('dark') ? 'light' : 'dark';
        localStorage.setItem('theme', newTheme);
        applyTheme(newTheme);
    });

    const savedTheme = localStorage.getItem('theme') || 'dark';
    applyTheme(savedTheme);

    function initMap() {
        const locations = {
            "Hogenakkal Falls": { lat: 12.1165, lng: 77.7753, day: 1 },
            "The Royal Honeychilk Palace": { lat: 12.1186, lng: 77.7745, day: 1 },
            "Sun City Apartments": { lat: 12.8943, lng: 77.5831, day: 0 },
            "Kempegowda International Airport Bengaluru": { lat: 13.1986, lng: 77.7066, day: 2 }
        };

        const map = new google.maps.Map(document.getElementById('map'), {
            zoom: 10,
            center: { lat: 12.45, lng: 77.7 },
            mapId: 'HOGENAKKAL_ITINERARY_MAP'
        });

        const infowindow = new google.maps.InfoWindow();

        const dayColors = {
            1: { background: '#4285F4', borderColor: '#1a73e8', glyphColor: '#FFFFFF' }, // Blue
            2: { background: '#34A853', borderColor: '#2c9f42', glyphColor: '#FFFFFF' } // Green
        };

        for (const location in locations) {
            let pinContent;
            const day = locations[location].day;

            if (location === "Sun City Apartments") {
                pinContent = new google.maps.marker.PinElement({
                    background: '#800080', // Purple
                    borderColor: '#000000',
                    glyph: 'S',
                    glyphColor: '#FFFFFF',
                }).element;
            } else if (location === "Kempegowda International Airport Bengaluru") {
                pinContent = new google.maps.marker.PinElement({
                    background: '#000080', // Navy
                    borderColor: '#000000',
                    glyph: 'A',
                    glyphColor: '#FFFFFF',
                }).element;
            } else {
                const colors = dayColors[day] || { background: '#EA4335', borderColor: '#d52516', glyphColor: '#FFFFFF' }; // Red for default
                pinContent = new google.maps.marker.PinElement({
                    background: colors.background,
                    borderColor: colors.borderColor,
                    glyph: day.toString(),
                    glyphColor: colors.glyphColor,
                }).element;
            }

            const marker = new google.maps.marker.AdvancedMarkerElement({
                position: locations[location],
                map: map,
                title: location,
                content: pinContent
            });

            marker.addListener('click', () => {
                infowindow.setContent(`<div style="color: black;">${location}</div>`);
                infowindow.open(map, marker);
            });
        }
    }
</script>

</body>
</html>